<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="theme-color" content="#00ff00" />
    <title>Rave Strobe</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="icon.svg" type="image/svg">
    <link rel="preload" href="images/1.svg" as="image">
    <link rel="preload" href="images/2.svg" as="image">
    <link rel="preload" href="images/3.svg" as="image">
    <link rel="preload" href="images/4.svg" as="image">
    <link rel="preload" href="images/5.svg" as="image">
    <link rel="preload" href="images/6.svg" as="image">
    <link rel="preload" href="images/7.svg" as="image">
    <link rel="preload" href="images/8.svg" as="image">
    <link rel="preload" href="images/9.svg" as="image">
    <link rel="preload" href="images/10.svg" as="image">
    <link rel="preload" href="images/11.svg" as="image">
    <link rel="preload" href="images/12.svg" as="image">
    <link rel="preload" href="images/13.svg" as="image">
    <link rel="preload" href="images/14.svg" as="image">
    <link rel="preload" href="images/15.svg" as="image">
    <link rel="preload" href="images/16.svg" as="image">
    <link rel="preload" href="images/17.svg" as="image">
    <link rel="preload" href="images/18.svg" as="image">
    <script type="module" src="app.ts"></script>
</head>
<body>
    <button class="fullscreen-toggle" id="fullscreen">fullscreen</button>
    <button class="dialog-toggle" onclick="this.nextElementSibling.open ? this.nextElementSibling.close() : this.nextElementSibling.showModal()">open</button>
    <dialog class="toolbar">
        <form method="dialog" id="settings">
            <label>
                <span>preset</span>
                <select name="preset">
                    <option value="">select</option>
                    <option value="bass">bass</option>
                    <option value="lowMid">lowMid</option>
                    <option value="mid">mid</option>
                    <option value="highMid">highMid</option>
                    <option value="treble">treble</option>
                </select>
            </label>
            <label>
                <span>lower freq threshold</span>
                <input name="lowerFreq" value="0" type="range" step="1" min="0" max="16000" oninput="this.nextElementSibling.innerText = `${this.value} Hz`" />
                <output>0 Hz</output>
            </label>
            <label>
                <span>upper freq threshold</span>
                <input name="upperFreq" value="0" type="range" step="1" min="0" max="16000" oninput="this.nextElementSibling.innerText = `${this.value} Hz`" />
                <output>0 Hz</output>
            </label>
            <label>
                <span>BPM</span>
                <input name="bpm" value="120" type="range" step="1" min="70" max="200" oninput="this.nextElementSibling.innerText = this.value" />
                <output>120</output>
            </label>
            <label>
                <span>amplifier</span>
                <input name="amplifier" value="1" type="range" step="0.1" min="0.1" max="30" oninput="this.nextElementSibling.innerText = this.value" />
                <output>1</output>
            </label>
            <label>
                <span>image tick threshold</span>
                <input name="tickThreshold" value="0.5" type="range" step="0.1" min="0.1" max="1" oninput="this.nextElementSibling.innerText = this.value" />
                <output>0.5</output>
            </label>
        </form>
    </dialog>
    <div id="strobe"></div>
    <canvas id="video"></canvas>
</body>
</html>